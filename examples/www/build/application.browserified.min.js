!function e(t,o,n){function i(s,a){if(!o[s]){if(!t[s]){var d="function"==typeof require&&require;if(!a&&d)return d(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return i(o?o:e)},c,c.exports,e,t,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,o){(function(t){var o="undefined"!=typeof window?window.React:"undefined"!=typeof t?t.React:null,n=e("./views/Todo");window.addEventListener("load",function i(e){window.removeEventListener("load",i,!1),o.render(o.createElement(n,null),document.getElementById("todo-application"))},!1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/Todo":13}],2:[function(e,t,o){t.exports=e("./src/SmallFlux")},{"./src/SmallFlux":4}],3:[function(e,t,o){var n=e("./events/Manager"),i=e("./utils/Utils"),r=function(e){this.name=e,this.id=i.guid()};r.prototype.trigger=function(e){n.trigger(this.id,e)},t.exports=r},{"./events/Manager":6,"./utils/Utils":7}],4:[function(e,t,o){var n=e("./Action"),i=e("./Store"),r={createAction:function(e){return new n(e)},createActions:function(e){for(var t={},o=0;o<e.length;o++)t[e[o]]=new n(e[o]);return t},createStore:function(e){return new i(e)}};t.exports=r},{"./Action":3,"./Store":5}],5:[function(e,t,o){var n=e("./events/Manager"),i=e("./utils/Utils"),r=["observe","forget","notify","attach","detach"],s=function(e){for(var t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&(this[t]="function"==typeof e[t]?e[t].bind(this):e[t]);this.id=i.guid(),this.initialize?this.initialize():!1};s.prototype.observe=function(e,t){return n.on(e.id,t)},s.prototype.forget=function(e,t){n.off(e.id,t)},s.prototype.notify=function(){n.trigger(this.id)},s.prototype.attach=function(e){return n.on(this.id,e)},s.prototype.detach=function(e){n.off(this.id,e)},t.exports=s},{"./events/Manager":6,"./utils/Utils":7}],6:[function(e,t,o){var n=function(){var e={};return{on:function(t,o){return e[t]||(e[t]=[]),e[t].push(o),this.off.bind(this,t,o)},off:function(t,o){if(e[t])for(var n=0;n<e[t].length;n++)if(e[t][n]===o){delete e[t][n],e[t].splice(n,1);break}},trigger:function(t,o){if(e[t])for(var n=0;n<e[t].length;n++)e[t][n](o)}}}();t.exports=n},{}],7:[function(e,t,o){var n=function(){function e(){return Math.floor(65793*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};t.exports={guid:n}},{}],8:[function(e,t,o){var n=e("small-flux"),i=n.createActions(["create","remove","read","unread"]);t.exports=i},{"small-flux":2}],9:[function(e,t,o){(function(o){var n="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,i=e("../actions/Todo"),r=n.createClass({displayName:"TodoItemForm",getInitialState:function(){return{title:"",description:""}},onChangeTitle:function(){this.setState({title:this.refs.title.getDOMNode().value})},onChangeDescription:function(){this.setState({description:this.refs.description.getDOMNode().value})},doSaveTodo:function(){i.create.trigger({title:this.state.title,description:this.state.description});var e={};this.refs.title.getDOMNode().value=e.title="",this.refs.description.getDOMNode().value=e.description="",this.setState(e)},render:function(){return n.createElement("div",{className:"form"},n.createElement("label",{htmlFor:"title"},"Title"),n.createElement("input",{type:"text",id:"title",ref:"title",placeholder:"Please specify a title for the todo",defaultValue:this.state.title,onChange:this.onChangeTitle}),n.createElement("label",{htmlFor:"description"},"Description"),n.createElement("textarea",{id:"description",ref:"description",rows:"6",defaultValue:this.state.description,onChange:this.onChangeDescription}),n.createElement("button",{type:"button",onClick:this.doSaveTodo},"Save"))}});t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../actions/Todo":8}],10:[function(e,t,o){(function(o){var n="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,i=e("./TodoListItem"),r=n.createClass({displayName:"TodoItemList",render:function(){return n.createElement("ul",null,this.props.todos.map(function(e){return n.createElement(i,{key:e.created_at,todo:e})}))}});t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./TodoListItem":11}],11:[function(e,t,o){(function(o){var n="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,i=e("../actions/Todo"),r=function(e){return 1==(""+e).length?"0"+e:e},s=function(e){return e.getFullYear()+"-"+r(e.getMonth())+"-"+r(e.getDate())+" @ "+r(e.getHours())+":"+r(e.getMinutes())},a=n.createClass({displayName:"TodoListItem",getInitialState:function(){return{open:!1}},doToggleDescription:function(){this.props.todo.is_unread&&!this.state.open&&i.read.trigger(this.props.todo),this.setState({open:!this.state.open})},doMarkAsUnread:function(){i.unread.trigger(this.props.todo)},doRemove:function(){i.remove.trigger(this.props.todo)},render:function(){var e=null,t="closed";return this.props.todo.is_unread&&(e=n.createElement("span",{className:"unread"},"*")),this.state.open&&(t="open"),n.createElement("li",{className:t},n.createElement("h3",{onClick:this.doToggleDescription},e,this.props.todo.title," ",n.createElement("span",{className:"created_at"},s(this.props.todo.created_at))),n.createElement("div",{className:"description"},n.createElement("p",null,this.props.todo.description)),n.createElement("div",{className:"settings"},n.createElement("a",{href:"javascript:void(0);",onClick:this.doMarkAsUnread,className:"left"},"Mark as unread"),n.createElement("a",{href:"javascript:void(0);",onClick:this.doRemove,className:"right"},"Delete todo"),n.createElement("div",{className:"clear"})))}});t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../actions/Todo":8}],12:[function(e,t,o){var n=e("small-flux"),i=e("../actions/Todo"),r=n.createStore({initialize:function(){this.todos=[],this.observe(i.create,this.createTodo),this.observe(i.remove,this.removeTodo),this.observe(i.read,this.markTodoAsRead),this.observe(i.unread,this.markTodoAsUnread)},createTodo:function(e){this.todos.push({title:e.title,description:e.description,is_unread:!0,created_at:new Date}),this.notify()},removeTodo:function(e){for(var t=-1,o=0;o<this.todos.length;o++)if(this.todos[o].created_at==e.created_at){t=o;break}t>=0&&(delete this.todos[t],this.todos.splice(t,1),this.notify())},markTodoAsRead:function(e){for(var t=0;t<this.todos.length;t++)if(this.todos[t].created_at==e.created_at){this.todos[t].is_unread=!1,this.notify();break}},markTodoAsUnread:function(e){for(var t=0;t<this.todos.length;t++)if(this.todos[t].created_at==e.created_at){this.todos[t].is_unread=!0,this.notify();break}},getTodos:function(){return this.todos}});t.exports=r},{"../actions/Todo":8,"small-flux":2}],13:[function(e,t,o){(function(o){var n="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null,i=e("../stores/Todo"),r=e("../components/TodoList"),s=e("../components/TodoItemForm"),a=n.createClass({displayName:"TodoView",getInitialState:function(){return{todos:[]}},componentWillMount:function(){i.attach(this.update)},update:function(){this.setState({todos:i.getTodos()})},render:function(){var e=this.state.todos.length,t=null,o=0;1!=e&&(t="s"),o=this.state.todos.filter(function(e){return!!e.is_unread}).length;var i=n.createElement("span",null,"You have ",e," todo",t,", and ",o," of them are unread.");return n.createElement("div",{className:"view"},n.createElement("div",{className:"todo-counter"},i),n.createElement(r,{todos:this.state.todos}),n.createElement("hr",null),n.createElement(s,null))}});t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/TodoItemForm":9,"../components/TodoList":10,"../stores/Todo":12}]},{},[1]);